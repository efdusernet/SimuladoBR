# Server
PORT=4010
NODE_ENV=development

# Comma-separated allowlist for browser origins embedding the widget
# Example: http://localhost:3000,https://simuladosbr.com
CORS_ORIGINS=http://localhost:3000

# Admin panel
# Used to protect /v1/admin/* endpoints (Authorization: Bearer <token>)
# IMPORTANT: you still need at least one bootstrap token here to access the admin panel
# and create attendants in the database.
ADMIN_TOKEN=

# Optional: multiple bootstrap tokens with display names.
# Format: Name=token,Other Name=token2
ADMIN_TOKENS=

# Optional: extra secret mixed into the hash of DB-managed attendant tokens.
# Recommended for production. Changing it invalidates existing DB tokens.
ADMIN_TOKEN_PEPPER=

# Database
# Example: postgres://user:pass@localhost:5432/chat_service
DATABASE_URL=

# Optional: enable SSL for DATABASE_URL connections (common on hosted Postgres)
PGSSLMODE=disable

# Optional: DB for SimuladosBR (to read communication_recipient + Usuario)
# If omitted, chat-service will use DATABASE_URL.
# Example: postgres://user:pass@localhost:5432/simuladosbr
COMMUNICATION_DATABASE_URL=
COMMUNICATION_PGSSLMODE=

# Alternative to COMMUNICATION_DATABASE_URL: configure pieces.
# If any of these are set, chat-service will build a connection string.
# Tip: avoids manual URL-encoding when passwords contain special chars.
COMMUNICATION_DB_NAME=
COMMUNICATION_DB_USER=
COMMUNICATION_DB_PASSWORD=
COMMUNICATION_DB_HOST=
COMMUNICATION_DB_PORT=

# SMTP (optional)
# Used to send invite emails and support contact notifications.
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
EMAIL_FROM=
SMTP_ALLOW_SELF_SIGNED=false

# JWT validation (optional)
# If you want to accept Authorization: Bearer <jwt>
# Provide the public key in SPKI PEM format
JWT_PUBLIC_KEY_PEM=
JWT_ISSUER=
JWT_AUDIENCE=
JWT_ALGORITHMS=RS256

# LLM provider (optional, for future integrations)
LLM_PROVIDER=ollama

OLLAMA_ENABLED=false
OLLAMA_URL=http://localhost:11434
OLLAMA_MODEL=llama3.1:8b
OLLAMA_TIMEOUT_MS=60000

GEMINI_API_KEY=
GEMINI_API_BASE=https://generativelanguage.googleapis.com/v1beta
GEMINI_MODEL=gemini-1.5-flash
GEMINI_TIMEOUT_MS=60000
