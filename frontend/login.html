<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SimuladosBR — Login</title>
  
  <!-- PWA Meta Tags -->
  <meta name="description" content="Simulados completos para certificação PMP com questões reais e indicadores detalhados">
  <meta name="theme-color" content="#4f46e5">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="SimuladosBR">
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="/manifest.json">
  <link rel="apple-touch-icon" href="/assets/icon-192.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/assets/icon-192.png">
  
  <!-- Prefer CSS minificado em dist quando disponível; mantém original como fallback -->
  <link rel="stylesheet" href="./dist/styles.css">
  <link rel="stylesheet" href="./styles.css">
  
  <!-- CSRF Protection - TEMPORARILY DISABLED -->
  <!-- <script src="/utils/csrf.js"></script> -->
</head>
<body>
  <header id="userHeader" style="display:none; padding:12px; background:#f4f4f4; border-bottom:1px solid #ddd;">
    <div style="max-width:900px;margin:0 auto;">Bem-vindo, <strong id="userNameHeader"></strong></div>
  </header>
  <main>
  </main>

  <!-- Modal de Login / Registro -->
  <div id="emailModal" class="modal" aria-hidden="true" style="display:none;">
    <div class="modal-content">
      <h2>Registro obrigatório</h2>
      <p>Por favor, informe seu e-mail para registrar o aplicativo.</p>
      <input id="nameInput" type="text" placeholder="Seu nome completo" />
      <input id="emailInput" type="email" placeholder="seu@exemplo.com" />
      <input id="passwordInput" type="password" placeholder="Senha (mínimo 6 caracteres)" />
      <input id="verifyTokenInput" type="text" placeholder="Código de verificação (se recebeu por e-mail)" style="display:none;" />
      <input id="newPasswordInput" type="password" placeholder="Nova senha (mínimo 6 caracteres)" style="display:none;" />
      <input id="confirmPasswordInput" type="password" placeholder="Confirmar nova senha" style="display:none;" />
      <div class="modal-actions">
        <button id="submitEmail">Registrar</button>
        <button id="toggleModeBtn" class="secondary-btn" type="button">Já tenho conta</button>
      </div>
      <a id="forgotPasswordLink" href="#" style="display:none;text-align:center;margin-top:8px;font-size:0.875rem;color:#4f46e5;text-decoration:none;">Esqueci minha senha</a>
      <p id="modalError" style="color:crimson;display:none;"></p>
    </div>
  </div>

  <!-- DOMPurify for XSS protection -->
  <script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.6/dist/purify.min.js"></script>
  <!-- Sanitization utilities -->
  <script src="./utils/sanitize.js"></script>
  <script src="./script.js" defer></script>
</body>
</html>
